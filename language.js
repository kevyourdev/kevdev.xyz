const translations = {
  en: {
    // Home page
    home: 'Home',
    blog: 'Blog',
    contact: 'Contact',
    greeting: "Hey, I'm Kevin",
    subtitle: 'A Software Engineer trying to make a difference.',
    fullstack: 'Full-stack Developer',
    mobile: 'Mobile App Developer',
    bilingual: 'English/Chinese Translator',
    learnMore: 'Learn More About Me',

    // About section
    journey: 'Journey',
    journeyText1:
      'My journey in technology began when I was a kid, tinkering with computers to enhance my gaming experience. After that, I studied Computer Science and Information Engineering at National Chung Cheng University, where I developed a interest in software development.',
    journeyText2:
      "After graduation, I joined IBM as an Application Developer, where I collaborated with talented engineers and designers to create frontend solutions. This experience led me to my current role at VOCOM INTERNATIONAL, where I'm responsible for developing backend APIs for eSIM systems.",
    journeyText3:
      'My goal is to make a difference in the world by working with great people to create products that are useful to others.',

    // Skills section
    skillsExpertise: 'Skills & Expertise',
    technicalSkills: 'Technical Skills',
    fullstackDev: 'Full-stack Development',
    mobileDev: 'Mobile Development',
    devTools: 'Development Tools',
    professionalSkills: 'Professional Skills',
    projectManagement: 'Project Management',
    languageServices: 'Language Services',

    // Work Timeline
    workTimeline: 'Work Timeline',
    present: 'Present',

    // Featured Work
    featuredWork: 'Featured Work',
    learnMoreArrow: 'Learn more →',

    // Contact page
    getInTouch: 'Get in Touch',
    name: 'Name',
    email: 'Email',
    message: 'Message',
    send: 'Send Message',
    emailMe: 'Email Me',

    // Work positions
    softwareEngineer: 'Software Engineer',
    applicationDev: 'Application Developer',
    fintechIntern: 'FinTech Development Intern',
    blockchainIntern: 'Blockchain and NFT Intern',
    androidIntern: 'Android Development Intern',

    // Work descriptions
    esimDesc:
      'Developing backend APIs for eSIM system (Node.js) and Database Management (MySQL).',
    ibmDesc:
      'Creating frontend solutions using jQuery, ReactJS, Bootstrap, Angular, and PrimeNG.',
    ctbcDesc:
      'Developing RPA programs and full-stack development using Java Spring framework.',
    fansiDesc:
      'Writing articles, blockchain research, and social media marketing.',
    sabfDesc: 'Developing applications using Java/Kotlin.',

    // Services section
    services: 'Services',
    portfolioWebsites: 'Portfolio Websites',
    portfolioDesc:
      'Custom-built, responsive portfolio websites tailored to showcase your work and personal brand.',
    customScripts: 'Custom Scripts',
    scriptsDesc:
      'Automation solutions and custom Excel scripts to streamline your workflow and boost productivity.',
    blogDev: 'Blog Development',
    blogDesc:
      'Custom blog platforms with CMS integration, optimized for performance and SEO.',
    translationService: 'Translation Service',
    translationDesc:
      'Professional Chinese-English translation and localization services for websites, documents, and videos.',

    // Additional timeline entries
    translatorRole: 'Chinese/English Translator',
    translatorDesc:
      'Responsible for Chinese/English translation of website documentation, narrating in English for project videos.',
    studentCompanion: 'Overseas Student Companion',
    companionDesc:
      'Responsible for taking care of international students, introducing our campus culture, and translating when needed.',
    generalCoordinator: 'General Coordinator',
    coordinatorDesc:
      'Responsible for the planning and execution of annual performance with over 500 participants in the audience.',
    skatingRinkEmployee: 'Skating Rink Employee',
    skatingRinkDesc:
      'Responsible for safety and instruction of ice rink visitors.',
    contactMe: 'Contact Me',
  },
  zh: {
    // Home page
    home: '首頁',
    blog: '部落格',
    contact: '聯絡',
    greeting: '你好，我是 Kevin',
    subtitle: '軟體工程師',
    fullstack: '全端開發工程師',
    mobile: '行動 APP 開發者',
    bilingual: '中英文翻譯',
    learnMore: '更多關於我',

    // About section
    journey: '歷程',
    journeyText1:
      '我的旅程從遊戲開始，當時只想改裝電腦來提升遊戲體驗。之後在國立中正大學主修資訊工程學系，在那裡培養了對軟體開發的熱情。',
    journeyText2:
      '畢業後加入 IBM 擔任應用程式開發工程師，與優秀的工程師和設計師合作開發前端解決方案。這些經驗帶領我到現在的職位，在 VOCOM INTERNATIONAL 負責開發 eSIM 系統的後端 API。',
    journeyText3:
      '我的目標是與優秀的人才合作，創造對他人有價值的產品，為世界帶來改變。',

    // Skills section
    skillsExpertise: '專業技能',
    technicalSkills: '技術能力',
    fullstackDev: '全端開發',
    mobileDev: '行動 APP 開發',
    devTools: '開發工具',
    professionalSkills: '專業技能',
    projectManagement: '專案管理',
    languageServices: '語言服務',

    // Work Timeline
    workTimeline: '工作經歷',
    present: '至今',

    // Featured Work
    featuredWork: '精選作品',
    learnMoreArrow: '了解更多 →',

    // Contact page
    getInTouch: '聯絡方式',
    name: '姓名',
    email: '電子郵件',
    message: '訊息',
    send: '發送',
    emailMe: '寄信給我',

    // Work positions
    softwareEngineer: '軟體工程師',
    applicationDev: '應用程式開發工程師',
    fintechIntern: '金融科技實習生',
    blockchainIntern: '區塊鏈與 NFT 實習生',
    androidIntern: 'Android 開發實習生',

    // Work descriptions
    esimDesc: '開發 eSIM 系統後端 API (Node.js) 與資料庫管理 (MySQL)',
    ibmDesc:
      '使用 jQuery、ReactJS、Bootstrap、Angular 和 PrimeNG 開發前端解決方案',
    ctbcDesc: '使用 Java Spring framework 開發 RPA 程式與全端系統',
    fansiDesc: '負責文章撰寫、區塊鏈研究與社群媒體行銷',
    sabfDesc: '使用 Java/Kotlin 開發應用程式',

    // Services section
    services: '服務',
    portfolioWebsites: '作品集網站',
    portfolioDesc: '客製化響應式作品集網站，展現您的作品與個人特色',
    customScripts: '自動化腳本',
    scriptsDesc: '自動化解決方案與 Excel 腳本，提升工作效率',
    blogDev: '部落格開發',
    blogDesc: '整合 CMS 的客製化部落格，優化效能與搜尋引擎排名',
    translationService: '翻譯服務',
    translationDesc: '專業中英文翻譯服務，包含網站、文件與影片在地化',

    // Additional timeline entries
    translatorRole: '中英文翻譯',
    translatorDesc: '負責網站文件的中英文翻譯，以及專案影片的英文旁白配音。',
    studentCompanion: '國際學生輔導員',
    companionDesc: '負責照顧國際學生，介紹校園文化，並在需要時提供翻譯協助。',
    generalCoordinator: '總召集人',
    coordinatorDesc: '負責規劃和執行年度表演，觀眾超過500人。',
    skatingRinkEmployee: '溜冰場工作人員',
    skatingRinkDesc: '負責溜冰場訪客的安全指導。',
    contactMe: '聯絡我',
  },
};

function updateContent(lang) {
  const elements = document.querySelectorAll('[data-i18n]');
  elements.forEach((element, index) => {
    // Add fade-out animation
    element.style.opacity = '0';
    element.style.transform = 'translateY(10px)';
    element.style.transition = 'opacity 0.3s ease, transform 0.3s ease';

    // Stagger the animations
    setTimeout(() => {
      const key = element.getAttribute('data-i18n');
      if (translations[lang] && translations[lang][key]) {
        element.textContent = translations[lang][key];
      }
      // Add fade-in animation
      element.style.opacity = '1';
      element.style.transform = 'translateY(0)';
    }, index * 50); // Stagger each element by 50ms
  });
}

// Add language toggle button with animation
const languageToggle = document.createElement('button');
languageToggle.id = 'language-toggle';
languageToggle.className = 'language-toggle';
languageToggle.setAttribute('aria-label', 'Toggle language');
languageToggle.innerHTML = `
    <span class="lang-text" style="transition: all 0.3s ease">EN/中</span>
`;
document.body.appendChild(languageToggle);

// Initialize language
let currentLang = localStorage.getItem('language') || 'en';
updateContent(currentLang);

// Toggle language on button click with enhanced animations
languageToggle.addEventListener('click', () => {
  // Disable button during animation
  languageToggle.disabled = true;

  // Add rotation and scale animation to button
  languageToggle.style.transform = 'rotate(360deg) scale(0.9)';

  // Fade out all content
  document.querySelectorAll('[data-i18n]').forEach((element) => {
    element.style.opacity = '0';
    element.style.transform = 'translateY(10px)';
  });

  setTimeout(() => {
    // Change language
    currentLang = currentLang === 'en' ? 'zh' : 'en';
    localStorage.setItem('language', currentLang);
    document.documentElement.setAttribute('lang', currentLang);

    // Update content with staggered animations
    updateContent(currentLang);

    // Reset button animation
    setTimeout(() => {
      languageToggle.style.transform = '';
      languageToggle.disabled = false;
    }, 300);
  }, 300);
});

// Add these styles to the existing ones in styles.css
const style = document.createElement('style');
style.textContent = `
    [data-i18n] {
        transition: opacity 0.3s ease, transform 0.3s ease;
    }
    
    .language-toggle {
        transition: transform 0.3s ease, background-color 0.3s ease;
    }
    
    .language-toggle:disabled {
        cursor: wait;
    }
    
    .lang-text {
        display: inline-block;
        transition: transform 0.3s ease;
    }
    
    .language-toggle:hover .lang-text {
        transform: scale(1.1);
    }
`;
document.head.appendChild(style);

// Initialize language when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  initializeLanguage();

  // Add initial fade-in animation to all translatable elements
  document.querySelectorAll('[data-i18n]').forEach((element, index) => {
    element.style.opacity = '0';
    element.style.transform = 'translateY(10px)';

    setTimeout(() => {
      element.style.opacity = '1';
      element.style.transform = 'translateY(0)';
    }, index * 50);
  });
});

// Add this to language.js
function initializeLanguage() {
  const savedLang = localStorage.getItem('language') || 'en';
  document.documentElement.setAttribute('lang', savedLang);
  updateContent(savedLang);
}

// Call initializeLanguage when DOM is loaded
document.addEventListener('DOMContentLoaded', initializeLanguage);

// Add this to handle the send button in contact form
if (document.querySelector('button[type="submit"]')) {
  document
    .querySelector('button[type="submit"]')
    .setAttribute('data-i18n', 'send');
}
